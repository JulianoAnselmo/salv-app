<ngx-spinner></ngx-spinner>
<style>
  .my-pagination /deep/ .ngx-pagination .current {
    background: #00AE5D;


  }
</style>
<!-- Main content -->
<section class="content">
  <button class="btn btn-success" (click)="reportResidentes()" id="printReport"><i class="fa fa-print"></i></button>
  <div>

    <div class="form-group">
      <a type="submit" class="btn btn-primary" [routerLink]="['/novo-residente']">Novo Residente</a>

      <!-- FILTRO -->

      <a class="dropdown btn btn-success pull-right" style="float:right; margin-right: 1cm;">

        <a href="#" class="dropdown-toggle pull-left" data-toggle="dropdown">Filtrar<span class="caret"></span></a>

        <!--MENU DA DROPDOWN-->
        <ul class="dropdown-menu" role="menu" style="color:black">

          <!--FILTRO INATIVOS-->

          <input type="checkbox" id="Desativados" [(ngModel)]="Desativados" name="Desativados"
            (click)="residentesInativoss(); ngOnInit()" ng-true-value="YES" ng-false-value="NO" style="margin: 5px">
          <label for="Desativados"> <span style="margin-left: 3px; margin-right: 7px">Residentes inativos </span></label>
          <br>

        </ul>
      </a>
      <!-- FIM DO FILTRO -->





      <!-- PESQUISA -->
      <a class="dropdown btn btn-success pull-right" style="float:right; margin-right: 1cm;">

        <a href="#" class="dropdown-toggle pull-left" data-toggle="dropdown">Pesquisar<span class="caret"></span></a>

        <ul class="dropdown-menu" role="menu" style="color:black">

          <!-- PESQUISA POR NOME -->
          <div class="input-group" style="margin: 5px">
            <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div>
            <input input class="form-control" placeholder="Pesquisar" type="text" name="search" [(ngModel)]="filter"
              style="height: 40px; width: 250px">
          </div>
          <!-- FIM PESQUISA POR NOME -->
        </ul>
      </a>
      <!-- FIM PESQUISA-->
    </div>
    <br>

    <div class="box box-default table-responsive no-padding" [@residentesAppeared]="residentesState">
      <h1>Visualização geral dos residentes</h1>

      <br>

      <!-- <!--table class="table table-hover">
        <tr>
          <th>Nome</th>
          <th>Apelido</th>
          <th>CPF</th>
          <th>RG</th>
          <th class="col-sm-4">Ações</th>
        </tr>
        <tr *ngFor="let residente of residentes | paginate: { itemsPerPage: 10, currentPage: paginaAtual}">
          <td>{{residente.PESSOA.NOME}} {{residente.PESSOA.SOBRENOME}}</td>
          <td>{{residente.APELIDO}}</td>
          <td>{{residente.PESSOA.CPF | cpf}}</td>
          <td>{{residente.PESSOA.RG | rg}}</td>

          <td>
            <button type="submit" class="btn btn-danger botao"
              (click)="deleteResidente(residente.CODIGO_RESIDENTE); $event.stopPropagation()">Inativar</button>
            <a type="submit" class="btn btn-success botao" [routerLink]="['/residente', residente.CODIGO_RESIDENTE]">+
              Opções</a>
          </td>
        </tr>

      </table>
      <pagination-controls class="my-pagination " (pageChange)="paginaAtual = $event" previousLabel="Anterior"
        nextLabel="Próximo" screenReaderPaginationLabel="Paginação" screenReaderPageLabel="Página"
        screenReaderCurrentLabel="Voce esta na página"></pagination-controls-->

      <div ng [hidden]="Desativados">
        <table class="table table-hover">
          <tr>
            <th>Nome</th>
            <th>Apelido</th>
            <th>CPF</th>
            <th>RG</th>
            <th class="col-sm-4">Ações</th>
          </tr>
          <tr
            *ngFor="let residente of residentes | filter: filter : searchString | paginate: { itemsPerPage: 10, currentPage: paginaAtual} let i = index">
            <td>{{residente.PESSOA.NOME}} {{residente.PESSOA.SOBRENOME}}</td>
            <td>{{residente.APELIDO}}</td>
            <td>{{residente.RESIDENTE_CPF | cpf}}</td>
            <td>{{residente.RESIDENTE_RG | rg}}</td>

            <td>
              <button type="submit" class="btn btn-danger botao"
                (click)="deleteResidente(residente.CODIGO); $event.stopPropagation()">Inativar</button>
              <!-- <a type="submit" class="btn btn-warning botao"
                [routerLink]="['/editar-residente', residente.CODIGO_RESIDENTE]">Editar</a> -->
              <a type="submit" class="btn btn-success botao" [routerLink]="['/residente', residente.CODIGO_RESIDENTE]">+
                Opções</a>
            </td>
          </tr>

        </table>
        <pagination-controls class="my-pagination " (pageChange)="paginaAtual = $event" previousLabel="Anterior"
          nextLabel="Próximo" screenReaderPaginationLabel="Paginação" screenReaderPageLabel="Página"
          screenReaderCurrentLabel="Voce esta na página"></pagination-controls>
      </div>


      <div ng [hidden]="!Desativados">
        <table class="table table-hover">
          <tr>
            <th>Nome</th>
            <th>Apelido</th>
            <th>CPF</th>
            <th>RG</th>
            <th class="col-sm-4">Ações</th>
          </tr>

          <tr *ngFor="let residente of residentesInativos  | filter : filter : searchString let i = index">
            <td>{{residente.RESIDENTE_NOME}} {{residente.RESIDENTE_SOBRENOME}}</td>
            <td>{{residente.APELIDO}}</td>
            <td>{{residente.RESIDENTE_CPF | cpf}}</td>
            <td>{{residente.RESIDENTE_RG | rg}}</td>

            <td>
              <button type="submit" class="btn btn-primary botao"
                (click)="ativarResidente(residente.CODIGO_RESIDENTE); $event.stopPropagation()">Ativar</button>
              <a type="submit" class="btn btn-success botao" [routerLink]="['/residente', residente.CODIGO_RESIDENTE]">
                +Opções</a>
            </td>
          </tr>

        </table>

        <div class="botao">
          <label for="Desativados"><a class=" btn btn-success botao ">Voltar para ativos</a></label>
        </div>
      </div>

      <!-- Fim da tabela  -->
    </div>

  </div>
  <!-- /.row -->
</section>